# Penetration Testing Methodology
> Penetration testing Process, Methods and Real world Attacks Collections

## Framework and Testing Guide
- [OWASP](https://www.owasp.org/index.php/OWASP_Testing_Project) - Open Web Applicaiton Security Project 
- [PTES](http://www.pentest-standard.org/index.php/PTES_Technical_Guidelines)- Penetration Testing Execution Standard
- [PCI DSS](https://www.pcisecuritystandards.org/documents/Penetration-Testing-Guidance-v1_1.pdf) PCI Penetration Testing Guide
- [PTF](http://www.vulnerabilityassessment.co.uk/Penetration%20Test.html) - Penetration Testing Framework
- [OSSTMM](http://www.isecom.org/research/) - Open Source Security Testing Methodology Manual 


## Pre Engagement

### VMware
- vmplayer
- vmware workstation
- vmware esxi

#### Windows 
- windows 7/8/10

#### Linux 
- kali
- Debian
- ubuntu 
- Arch
- Gentoo

### Wifi Adapter
- [Alpha](https://www.alfa.com.tw/)
- [TPLink](https://www.tp-link.com/my/products/list-11.html)
- [Panda](http://www.pandawireless.com/Drivers%20%7C%20Panda%20Wireless.html)
- [Detroit DIY](http://detroit-electronics.com/wifi-for-raspberry-pi-antenna)

### Spectrum Analyser
- [Kaltman Creations HF-4060](https://kaltmancreationsllc.com/category/rf-analyzers/)


### Open Source Software

- [Maltego](http://www.paterva.com/web7/) - Maltego is an interactive data mining tool that renders directed graphs for link analysis. 
- [Metasploit Framework ](https://metasploit.com/) - collection of remote exploits and post exploitation tools for all platforms
- [SET toolkit](https://github.com/trustedsec/social-engineer-toolkit) - designed to perform advanced attacks against the human element.
- [theHarvester](https://github.com/laramies/theHarvester) - gathering e-mail accounts, user names and hostnames/subdomains from different public sources
- [mimikat](https://github.com/gentilkiwi/mimikatz) - extract plain or hash of password.
- dig - bind-utils
- [THC Hydra](http://sectools.org/tool/hydra/) - for brute force
- [Powersploit](https://github.com/PowerShellMafia/PowerSploit) - a collection of Microsoft PowerShell modules
- [CrackmapExec](https://github.com/byt3bl33d3r/CrackMapExec/wiki) - post exploitation tools for Active Directory.
- [Burpsuite](https://portswigger.net/burp) - can use as proxy as well as active scanner
- [Empire](https://github.com/EmpireProject/Empire) - powershell framework for remote and post exploitation.
- [Nmap](https://nmap.org/) - port scanner
- [knockpy](https://github.com/guelfoweb/knock) - subdomain scanner
- [netcat](https://nmap.org/ncat/) - network utility 
- [nishang](https://github.com/samratashok/nishang) - post exploitation powershell Framework

### Checklist

- Determination of the type of pentest (Blackbox, Whitebox)
- Key objectives behind this penetration test
- Location address and contact (if it is an onsite job)
- Validation that the Authorization Letter has been signed
- URL of the web application that is in scope and validation that isaccessible
- 2 sets of credentials (normal and admin or a privilege user) and validation that are working
- Determination of the environment (Production or UAT)
- Number of static and dynamic pages
- Testing Boundaries (DoS, Brute force attacks etc.)
- Technologies (PHP, ASP, .NET, IIS, Apache, Operating system etc.)
- Any VPN or port numbers are needed and verify those ahead of time
- Any web services that the site may use.
- Any pages that the client does not want to be tested.
- Any pages that submit emails
- IP address of the tester
- Escalation contact
- 3rd parties that needs to be contacted in advance of the pentest
- Web application firewalls and other IDS in place
- Timeframe of the assessment (dates and hours)
- Diagrams and any kind of documentation
- Validation that a backup has been performed recently on theapplication
- Other client requirements



## Intelligence Gathering

### Guides
- [OSINT Primer 1](https://0xpatrik.com/osint-domains/)
- https://github.com/rmusser01/Infosec_Reference/blob/master/Draft/Open%20Source%20Intelligence.md
- https://sites.google.com/site/greynetwork2/home/osint-resources
- http://archive.is/sYzcP#selection-62.0-62.1
- https://blog.rapid7.com/2015/02/23/osint-through-sender-policy-framework-spf-records/
- https://www.i-intelligence.eu/open-source-intelligence-tools-and-resources-handbook/
- https://krypt3ia.wordpress.com/2012/01/11/the-subtle-art-of-osint/
- https://www.slideshare.net/SudhanshuChauhan/tools-for-open-source-intelligence-osint-61284325

### Tools 
- Dnsrecon
- Recon-ng
- Shodan
- theHarvester
- maltego 
- google dork
- http://osint.link/
- http://osintframework.com/


## Thread Modelling

### Guides
- https://www.owasp.org/index.php/Application_Threat_Modeling
- https://resources.infosecinstitute.com/category/certifications-training/cissp/domains/security-and-risk-management/threat-modeling/#gref


### Tools
- [OWASP Thread Dragon](https://www.owasp.org/index.php/OWASP_Threat_Dragon)
- [Microsft SDL Thread Modelling tools](https://www.microsoft.com/en-sg/download/details.aspx?id=49168)


## Vulnerability Analysis

### Automatic Vul scanners
- Accunetix
- OpenVas
- Vega
- Nikto
- Wikto
- w3af
- Xenotix XSS Framework
- Wapiti

### Manual Scanner
- nmap
- Metaploit Framework

### Guides

- [nmap scanning](https://nmap.org/book/man-examples.html)
- [Nmap Network Scanning The Official Nmap Project Guide to Network Discovery and Security Scanning](https://www.amazon.com/Nmap-Network-Scanning-Official-Discovery/dp/0979958717)
- [ NSE](https://nmap.org/presentations/BHDC10/Fyodor-David-BlackHatUSA-2010-Slides.pdf)
- [nmap cheat sheet](https://resources.infosecinstitute.com/author/revers3r/)
- [Metaploit vulnerable scanning ](https://resources.infosecinstitute.com/vulnerability-scanning-metasploit-part-2/)
- [hack metasploitable 2](https://www.hackingtutorials.org/metasploit-tutorials/metasploitable-2-vulnerability-assessment/)

## Initial Intrusion 

### Pubic exploit POCS and payloads techniques
- [PowerShell DNS Delivery](https://www.mdsec.co.uk/2017/07/powershell-dns-delivery-with-powerdns/)
- [SharpShooter Payload Generation Framework](https://www.mdsec.co.uk/2017/07/powershell-dns-delivery-with-powerdns/)
- [Pwning with Responder](https://www.notsosecure.com/pwning-with-responder-a-pentesters-guide/)
- [Low Privilege Active Directory Enumeration](https://www.attackdebris.com/?p=470)
- [Setting Content MS](https://enigma0x3.net/2018/06/11/the-tale-of-settingcontent-ms-files/)
- [HTA payload encryptor](https://github.com/nccgroup/demiguise)
- [Microsoft office Payload in Document Properties](https://pentestlab.blog/tag/payloads/)
- [DDE Payload](https://medium.com/red-team/dde-payloads-16629f4a2fcd)
- [Phishing with GoPhish](https://blog.cobalt.io/spear-phishing-with-go-phish-framework-516489b59715)
- [Spear Phishing with SET toolkit ](https://resources.infosecinstitute.com/phishing-and-social-engineering-techniques-3-0/)
- [ms017-010](https://zerosum0x0.blogspot.com/2017/04/doublepulsar-initial-smb-backdoor-ring.html)
- [CVE-2017-5638](https://lucideustech.blogspot.com/2017/12/exploiting-apache-struts2-cve-2017-5638.html)
- [CVE-2016-6662](https://legalhackers.com/advisories/MySQL-Exploit-Remote-Root-Code-Execution-Privesc-CVE-2016-6662.html)
- [Exploit Database](https://www.exploit-db.com/)

### Web Application
#### Attacker Vector
- [Web Base Attack](https://www.sans.org/reading-room/whitepapers/application/web-based-attacks-2053)
- [OWASP Top 10 2017](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_2017_Project)
- [Attack Vector](https://www.owasp.org/index.php/Category:Attack)

#### Public POCS
- [Exploit Database](https://www.exploit-db.com/webapps/)
- [PhpMyAdmin LFI](https://github.com/vulhub/vulhub/tree/master/phpmyadmin/CVE-2018-12613)
- [LIF to RCE](https://medium.com/bugbountywriteup/bugbounty-journey-from-lfi-to-rce-how-a69afe5a0899)
- [Java Deserailization Exploit](https://diablohorn.com/2017/09/09/understanding-practicing-java-deserialization-exploits/)
- [Brute forcing JSON Web token](https://auth0.com/blog/brute-forcing-hs256-is-possible-the-importance-of-using-strong-keys-to-sign-jwts/)
- [Exploitation CORS](https://portswigger.net/blog/exploiting-cors-misconfigurations-for-bitcoins-and-bounties)

#### Reverse Connection
- [Reverse Shell CheatSheet](http://blog.safebuff.com/2016/06/19/Reverse-shell-Cheat-Sheet/)

### Wifi
- [awesome-wifi-security](https://github.com/edelahozuah/awesome-wifi-security)

## Post Exploitation
### Windows
#### Password dumping
- [TBAL DPAIP Backdoor for local user](http://vztekoverflow.com/2018/07/31/tbal-dpapi-backdoor/)
- [Dumping Domain Password](https://pentestlab.blog/2018/07/04/dumping-domain-password-hashes/)
- [Dumping ClearText Creds](https://github.com/kyawthiha7/ClearTextCreds)
- [Empire Tips and Trick](https://enigma0x3.net/2015/08/26/empire-tips-and-tricks/)
- [Extract Remote Hash](https://www.harmj0y.net/blog/activedirectory/remote-hash-extraction-on-demand-via-host-security-descriptor-modification/)
- [Capturing NetNTML](https://bohops.com/2018/08/04/capturing-netntlm-hashes-with-office-dot-xml-documents/)

#### AD
- [The worst of both worlds](https://dirkjanm.io/worst-of-both-worlds-ntlm-relaying-and-kerberos-delegation/)
- [pass-the-hash-is-dead-long-live-localaccounttokenfilterpolicy](http://www.harmj0y.net/blog/redteaming/pass-the-hash-is-dead-long-live-localaccounttokenfilterpolicy/)
- [Beyond LLMNR/NBNS Spoofing](https://blog.netspi.com/exploiting-adidns/)
- [Gathering AD Data with Powershell](https://adsecurity.org/?p=3719)
- [kerberosting without mimikatz](https://www.harmj0y.net/blog/powershell/kerberoasting-without-mimikatz/)
- [Kerberost](https://pentestlab.blog/2018/06/12/kerberoast/)
- [Golden Ticket](https://pentestlab.blog/2018/04/09/golden-ticket/)
- [pass-the-ticket](https://medium.com/@t0pazg3m/pass-the-ticket-ptt-attack-in-mimikatz-and-a-gotcha-96a5805e257a)
- [Gaining Domain Admin Rights](https://adsecurity.org/?p=2362)
- [Attacking Kerberos : kicking the guard dog of hades](https://www.sans.org/summit-archives/file/summit-archive-1493862736.pdf)
- [Token Impersonation](https://pentestlab.blog/tag/token-impersonation/)

#### Privilege Escalation
- [Windows Privilege Escalation Fundamentals by FuzzySecurity](http://www.fuzzysecurity.com/tutorials/16.html)
- [DLL Hijacking](https://pentestlab.blog/2017/03/27/dll-hijacking/)
- [Potato](https://pentestlab.blog/2017/04/13/hot-potato/)
- [RottenPotatoNG](https://github.com/breenmachine/RottenPotatoNG)
- [Privilege Escalation Guide](https://www.sploitspren.com/2018-01-26-Windows-Privilege-Escalation-Guide/)


#### Lateral Movement
- [RDP tunneling](https://blog.netspi.com/how-to-access-rdp-over-a-reverse-ssh-tunnel/)
- [SQL Server Link Crawling](https://blog.netspi.com/how-to-hack-database-links-in-sql-server/)
- [Lateral Movement WinRM](https://pentestlab.blog/2018/05/15/lateral-movement-winrm/)
- [CrackeMapExec](https://byt3bl33d3r.github.io/getting-the-goods-with-crackmapexec-part-1.html)
- [RDP Inception](https://www.mdsec.co.uk/2017/06/rdpinception/)
- [RDP Lateral Movement](https://pentestlab.blog/2018/04/24/lateral-movement-rdp/)
- [Powerview and crackmapExec](https://blog.varonis.com/pen-testing-active-directory-environments-part-introduction-crackmapexec-powerview/)
- [Persistent payload](https://kyawthiha7.github.io/posts/persistent/)
- [port forwarding with netsh](http://woshub.com/port-forwarding-in-windows/)
- [The Trustpocalypse](http://www.harmj0y.net/blog/redteaming/the-trustpocalypse/)
- [DcShadow Explained](https://blog.alsid.eu/dcshadow-explained-4510f52fc19d)
- [Domain Trust: Why You Should Care](http://www.harmj0y.net/blog/redteaming/domain-trusts-why-you-should-care/)
- [A Guide to Attacking Domain Trusts](http://www.harmj0y.net/blog/redteaming/a-guide-to-attacking-domain-trusts/)

#### Bypass techniques
- [evading autorun](https://medium.com/@KyleHanslovan/re-evading-autoruns-pocs-on-windows-10-dd810d7e8a3f)
- [mimikatz obfuscation](https://www.blackhillsinfosec.com/bypass-anti-virus-run-mimikatz/)
- [Putting data in Alternate data streams and how to execute it](https://oddvar.moe/2018/01/14/putting-data-in-alternate-data-streams-and-how-to-execute-it/)
- [Putting data in Alternate data streams and how to execute it 2](https://oddvar.moe/2018/04/11/putting-data-in-alternate-data-streams-and-how-to-execute-it-part-2/)
- [Leveraging INF-SCT Fetch](https://bohops.com/2018/03/10/leveraging-inf-sct-fetch-execute-techniques-for-bypass-evasion-persistence-part-2/)
- [Empire without powershell](https://bneg.io/2017/07/26/empire-without-powershell-exe/)
- [Powershell without powershell](https://www.blackhillsinfosec.com/powershell-without-powershell-how-to-bypass-application-whitelisting-environment-restrictions-av/)
- [Exploitation Code Injection Powershell to bypass Constraint mode ](http://www.exploit-monday.com/2017/08/exploiting-powershell-code-injection.html?m=1) 
- [Bypass Constraint Mode with runscripthelper](https://posts.specterops.io/bypassing-application-whitelisting-with-runscripthelper-exe-1906923658fc)
- [InternetExplorer.Application for C2](https://adapt-and-attack.com/2017/12/19/internetexplorer-application-for-c2/)
- [We Don't Need Powershell.exe Part 2](https://decoder.cloud/2017/11/08/we-dont-need-powershell-exe-part-2/)
- [WSH Injection](https://posts.specterops.io/wsh-injection-a-case-study-fd35f79d29dd)


#### MISC
- [Borrowing Microsoft Code Signing Certificates](https://blog.conscioushacker.io/index.php/2017/09/27/borrowing-microsoft-code-signing-certificates/)
- [Guide to Attacking Domain Trust](https://www.harmj0y.net/blog/activedirectory/remote-hash-extraction-on-demand-via-host-security-descriptor-modification/)

### Linux
#### Privilege Escalation
- [Basic Linux Privilge escalation by g0tmi1k](https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/)
- [Exploit Database](https://www.exploit-db.com/local/)
- [Attack and Defend : Linux Privilege Escalation](https://www.sans.org/reading-room/whitepapers/linux/attack-defend-linux-privilege-escalation-techniques-2016-37562)
- [SUID executable](https://pentestlab.blog/category/privilege-escalation/)
- [Guide to Linux Privilege Escaltion](https://payatu.com/guide-linux-privilege-escalation/)
- [Labs write up](https://resources.infosecinstitute.com/privilege-escalation-linux-live-examples/)

#### LDAP
- [Understand and Exploit web based LDAP](https://pen-testing.sans.org/blog/2017/11/27/understanding-and-exploiting-web-based-ldap)
- [Web based LDAP injection](http://www.blackhat.com/presentations/bh-europe-08/Alonso-Parada/Whitepaper/bh-eu-08-alonso-parada-WP.pdf)

#### Lateral Movement
- [SSH port forwarding](https://www.ssh.com/ssh/tunneling/example)
- [SSH & meterpreter port forward](https://highon.coffee/blog/ssh-meterpreter-pivoting-techniques/)
- [Tunneling & port forwarding](https://www.sans.org/reading-room/whitepapers/testing/tunneling-pivoting-web-application-penetration-testing-36117)

### Web Shell 
- [webshell](https://github.com/3gstudent/Pentest/tree/master/backdoor)

## Data Exfil
- [awesome-red-teaming](https://github.com/yeyintminthuhtut/Awesome-Red-Teaming#-exfiltration)
- [out of band Exploitation](https://www.notsosecure.com/oob-exploitation-cheatsheet/)

## Reporting
- [public report](https://github.com/juliocesarfort/public-pentesting-reports)
- [ Dradis Report Framework](https://resources.infosecinstitute.com/kali-reporting-tools/#gref)
- [ Writing Pentest Report By SANS ](https://www.sans.org/reading-room/whitepapers/bestprac/writing-penetration-testing-report-33343)


> All the Tools mentioned here are Open Source or free. 
